<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="Enjoy premium coffee and healthy meals to start your day. Discover our favorite menus, great taste, and friendly service at our coffee shop."
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:ital,wght@0,200..800;1,200..800&family=Sacramento&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="../style/register.css" />
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>

    <title>Register</title>
  </head>
  <body>
    <div class="container">
      <div class="img">
        <img src="../images/Rectangle 289.png" alt="cooffe background image" />
      </div>

      <main>
        <header>
          <div class="logo">
            <img
              src="../images/icon/Frame.svg"
              alt="Coffee Shop brand logo"
              class="logo-icon"
            />
            <span class="logo-text">Coffee Shop</span>
          </div>
          <h1 class="register">Register</h1>
          <p class="from-subtitle">Fill out the form correctly</p>
        </header>

        <form>
          <div class="input-wrapper">
            <label class="label" for="name">Full Name</label>
            <input
              class="input"
              name="name"
              id="name"
              type="text"
              placeholder="Enter Your Full Name"
            />
            <img
              src="../images/icon/Profile.svg"
              alt="User profile icon"
              class="icon-name"
            />
          </div>
          <div class="input-wrapper">
            <label class="label" for="email">Email</label>
            <input
              class="input"
              name="email"
              id="email"
              type="email"
              placeholder="Enter Your Email"
            />
            <img
              src="../images/icon/mail.svg"
              alt="icon email"
              class="icon-name"
            />
          </div>

          <div class="input-wrapper">
            <label class="label" for="password">Password</label>
            <input
              class="input"
              name="password"
              id="password"
              type="password"
              placeholder="Enter Your Password"
            />
            <img
              src="../images/icon/Password.svg"
              alt="icon password"
              class="icon-name"
            />

            <input type="checkbox" class="toggle" id="toggle" />

            <label for="toggle">
              <img
                src="../images/icon/EyeSlash.svg"
                alt="eye icon"
                class="icon-name eye-icon"
              />

              <img
                src="../images/icon/eyeShow.svg"
                alt="eye show icon"
                class="icon-name eye-show-icon"
              />
            </label>
          </div>

          <div class="input-wrapper">
            <label class="label" for="confirm-password">Confirm Password</label>
            <input
              class="input"
              name="confirm-password"
              id="confirm-password"
              type="password"
              placeholder="Enter Your Password Again"
            />
            <img
              src="../images/icon/Password.svg"
              alt="icon email"
              class="icon-name"
            />
            <input type="checkbox" class="toggle2" id="toggle2" />

            <label for="toggle2">
              <img
                src="../images/icon/EyeSlash.svg"
                alt="eye icon"
                class="icon-name eye-icon"
              />

              <img
                src="../images/icon/eyeShow.svg"
                alt="eye show icon"
                class="icon-name eye-show-icon"
              />
            </label>
          </div>

          <button type="submit" class="button">Register</button>
        </form>

        <footer class="footer">
          <p>Have An Account? <a href="./login.html">Login</a></p>
        </footer>

        <div class="or-line">
          <div class="line"></div>
          <span class="span-text">Or</span>
          <div class="line"></div>
        </div>

        <div class="container-icon">
          <a
            href="https://www.facebook.com/"
            target="_blank"
            class="container-facebook"
          >
            <img
              src="../images/icon/bx_bxl-facebook-circle.svg"
              alt="facebook icon"
              class="facebook-icon"
            />
            <span class="facebook">Facebook</span>
          </a>
          <a
            href="https://www.google.com/"
            target="_blank"
            class="container-google"
          >
            <img
              src="../images/icon/flat-color-icons_google.svg"
              alt="google icon"
              class="google-icon"
            />
            <span class="google">Google</span>
          </a>
        </div>
      </main>
    </div>

    <script>
      $(document).ready(() => {
        const form = $("form");
        const inputName = $("#name");
        const inputEmail = $("#email");
        const inputPassword = $("#password");
        const confirmPassword = $("#confirm-password");
        const toggle = $("#toggle");
        const toggle2 = $("#toggle2");

        toggle.on("change", function () {
          inputPassword.attr("type", this.checked ? "text" : "password");
        });

        toggle2.on("change", function () {
          confirmPassword.attr("type", this.checked ? "text" : "password");
        });

        form.on("submit", (e) => {
          e.preventDefault();

          const name = inputName.val().trim();
          const email = inputEmail.val().trim();
          const password = inputPassword.val().trim();
          const confirm = confirmPassword.val().trim();

          const labelNama = form.find(".input-wrapper:nth-child(1)");
          labelNama.find("span").remove();
          if (name === "") {
            return labelNama.append(
              $("<span>", {
                text: "nama tidak boleh kosong",
                css: { color: "red" },
              }),
            );
          }

          const labelEmail = form.find(".input-wrapper:nth-child(2)");
          labelEmail.find("span").remove();
          if (email === "") {
            return labelEmail.append(
              $("<span>", {
                text: "email tidak boleh kosong",
                css: { color: "red" },
              }),
            );
          }

          const labelPassword = form.find(".input-wrapper:nth-child(3)");
          labelPassword.find("span").remove();
          if (password === "") {
            return labelPassword.append(
              $("<span>", {
                text: "password tidak boleh kosong",
                css: { color: "red" },
              }),
            );
          }

          const labelConfirm = form.find(".input-wrapper:nth-child(4)");
          labelConfirm.find("span").remove();
          if (confirm !== password) {
            return labelConfirm.append(
              $("<span>", {
                text: "confirm password tidak sama",
                css: { color: "red" },
              }),
            );
          }

          localStorage.setItem("user", JSON.stringify({ email, password }));

          window.location.href = "./login.html";
        });
      });

      // const form = document.querySelector("form");
      // const inputName = document.getElementById("name");
      // const inputEmail = document.getElementById("email");
      // const inputPassword = document.getElementById("password");
      // const confirmPassword = document.getElementById("confirm-password");
      // const toggle = document.getElementById("toggle");
      // const toggle2 = document.getElementById("toggle2");

      // toggle.addEventListener("change", (e) => {
      //   if (e.target.checked) {
      //     inputPassword.type = "text";
      //   } else {
      //     inputPassword.type = "password";
      //   }
      // });

      // toggle2.addEventListener("change", (e) => {
      //   if (e.target.checked) {
      //     confirmPassword.type = "text";
      //   } else {
      //     confirmPassword.type = "password";
      //   }
      // });

      // form.addEventListener("submit", (e) => {
      //   e.preventDefault();

      //   const name = inputName.value.trim();
      //   const email = inputEmail.value.trim();
      //   const password = inputPassword.value.trim();
      //   const confirm = confirmPassword.value.trim();

      //   const labelNama = form.querySelector(".input-wrapper:nth-child(1)");
      //   labelNama.querySelector("span")?.remove();
      //   if (name === "") {
      //     const spanNama = document.createElement("span");
      //     spanNama.style.color = "red";
      //     spanNama.textContent = "nama tidak boleh kosong";
      //     return labelNama.appendChild(spanNama);
      //   }

      //   const labelEmail = form.querySelector(".input-wrapper:nth-child(2)");
      //   labelEmail.querySelector("span")?.remove();
      //   if (email === "") {
      //     const spanEmail = document.createElement("span");
      //     spanEmail.style.color = "red";
      //     spanEmail.textContent = "email tidak boleh kosong";
      //     return labelEmail.appendChild(spanEmail);
      //   }

      //   const labelPassword = form.querySelector(".input-wrapper:nth-child(3)");
      //   labelPassword.querySelector("span")?.remove();
      //   if (password === "") {
      //     const spanPassword = document.createElement("span");
      //     spanPassword.style.color = "red";
      //     spanPassword.textContent = "password tidak boleh kosong";
      //     return labelPassword.appendChild(spanPassword);
      //   }

      //   const labelConfirm = form.querySelector(".input-wrapper:nth-child(4)");
      //   labelConfirm.querySelector("span")?.remove();
      //   if (confirm !== password) {
      //     const spanConfirm = document.createElement("span");
      //     spanConfirm.style.color = "red";
      //     spanConfirm.textContent = "confirm password tidak sama";
      //     return labelConfirm.appendChild(spanConfirm);
      //   }

      //   window.location.href = "./login.html";
      // });
    </script>
  </body>
</html>
